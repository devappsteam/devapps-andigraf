!function(e){var l=["corporate_name","fantasy_name","postcode","address","number","district","city","state"];function a(){var l=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e("#personal_document").prop("required",l).val(null),e("#first_name").prop("required",l).val(null),e("#last_name").prop("required",l).val(null),e("#birth_date").prop("required",l).val(null)}function n(){var l=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e("#corporate_document").prop("required",l).val(null),e("#corporate_name").prop("required",l).val(null),e("#fantasy_name").prop("required",l).val(null),e("#responsible_first_name").prop("required",l).val(null),e("#responsible_last_name").prop("required",l).val(null),e("#responsible_phone").prop("required",l).val(null),e("#responsible_email").prop("required",l).val(null),e("#responsible_job").prop("required",l).val(null)}function t(){e("#postcode").val(null),e("#address").val(null),e("#number").val(null),e("#complement").val(null),e("#district").val(null),e("#city").val(null),e("#state").val(null)}e((function(){e('[name="type"]').on("change",(function(l){"physical"==e(this).val()?(e(".corporate").hide(),e(".personal").show(),a(!0),n(!1)):(e(".corporate").show(),e(".personal").hide(),a(!1),n(!0))})),e("#find_cnpj").on("click",(function(a){var n,t;n=e("#corporate_document").val().replace(/\D/g,""),(t=/^[0-9]{14}$/).test(n)&&t.test(n)&&e.ajax({url:"https://www.receitaws.com.br/v1/cnpj/"+n+"/?callback=?",type:"GET",dataType:"JSON",beforeSend:function(){!function(){for(var a=0,n=l;a<n.length;a++)field=n[a],e("#".concat(field)).val(null).prop("readonly",!0)}()},success:function(l){var a;"OK"==l.status&&(a=l,e("#corporate_name").val(a.nome),e("#fantasy_name").val(a.fantasia),e("#phone").val(a.telefone),e("#email").val(a.email),e("#postcode").val(a.cep.replace(".","")),e("#address").val(a.logradouro),e("#number").val(a.numero),e("#complement").val(a.complemento),e("#district").val(a.bairro),e("#city").val(a.municipio),e("#state").val(a.uf))}}).done((function(){!function(){for(var a=0,n=l;a<n.length;a++)field=n[a],e("#".concat(field)).prop("readonly",!1)}()}))}));var o,r,i,c=function(e){return 11===e.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00009"},s={onKeyPress:function(e,l,a,n){a.mask(c.apply({},arguments),n)}};e("#phone, #whatsapp, #responsible_phone").mask(c,s),e("#postcode").on("keyup",(o=function(l){var a;9==e(this).val().length&&(""!=(a=e(this).val().replace(/\D/g,""))?/^[0-9]{8}$/.test(a)?(e("#address").val("..."),e("#district").val("..."),e("#city").val("..."),e("#state").val("..."),e.getJSON("https://viacep.com.br/ws/"+a+"/json/?callback=?",(function(l){"erro"in l?(t(),alert("CEP não encontrado.")):(e("#address").val(l.logradouro),e("#district").val(l.bairro),e("#city").val(l.localidade),e("#state").val(l.uf))}))):(t(),alert("Formato de CEP inválido.")):t())},r=500,i=0,function(){var e=this,l=arguments;clearTimeout(i),i=setTimeout((function(){o.apply(e,l)}),r||0)})),e(".delete").on("click",(function(l){l.preventDefault();var a=e(this);Swal.fire({icon:"question",title:"Deseja realmente excluir este registro?",showCancelButton:!0,confirmButtonText:"Sim",cancelButtonText:"Não"}).then((function(l){l.isConfirmed&&(e("#form_delete").find("#associate_delete").val(a.data("delete")),e("#form_delete").submit())}))})),e("#btn_filter").on("click",(function(l){l.preventDefault(),e("#form_filter").slideToggle(300)}))}))}(jQuery);
//# sourceMappingURL=associate.js.map